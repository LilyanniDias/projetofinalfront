<div class="rotinas-container">
  
    <div class="header">
      <h1>Minhas Rotinas de Skincare Salvas</h1>
      <a [routerLink]="['/criar-rotina']" class="create-button">
        Criar Nova Rotina
      </a>
    </div>
  
    <div *ngIf="errorMensagem" class="error-message">
      {{ errorMensagem }}
    </div>
  
    <div *ngIf="rotinas().length === 0 && !errorMensagem" class="empty-message">
      Você ainda não possui rotinas salvas. Clique em "Criar Nova Rotina" para começar!
    </div>
  
    <div class="rotinas-grid">
      <div *ngFor="let rotina of rotinas()" class="rotina-card">
        
        <div class="rotina-header">
          <h2>{{ rotina.nome }}</h2>
          <span class="step-count">{{ rotina.ativos.length }} Passos</span>
        </div>
        
        <p class="metadata">
          Criada em: {{ rotina.data_criacao | date:'dd/MM/yyyy' }}
        </p>
        
        <div class="passos-list">
          <h3>Sequência:</h3>
          
          <div *ngFor="let ativo of rotina.ativos; let i = index" class="passo-item">
            
            <div class="passo-order">{{ i + 1 }}º</div>
            
            <div class="passo-details">
              <strong>{{ ativo.passo }}</strong>
              <p>{{ ativo.nome }}</p>
              <small>Função: {{ ativo.funcao_principal }}</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>