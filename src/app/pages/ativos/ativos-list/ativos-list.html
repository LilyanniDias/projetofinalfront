<!-- Voltar para a p√°gina inicial -->
<div class="back-navigation">
  <a [routerLink]="['/home']" class="btn-back">
    <span class="arrow">&larr;</span> Voltar para o In√≠cio
  </a>
</div>

<!-- Barra de pesquisa -->
<div class="search-bar-container">
  <input
    type="text"
    placeholder="Pesquisar por nome, fun√ß√£o ou origem..."
    [ngModel]="searchTerm()"
    (ngModelChange)="searchTerm.set($event); filtrarAtivos()"
    class="search-input"
  />
</div>

<!-- Seletor de tipo de pele -->
<div class="skin-type-selector-container">
  <label for="skinTypeSelect">Selecione o tipo de pele:</label>
  <select
    id="skinTypeSelect"
    [ngModel]="selectedSkinType()"
    (ngModelChange)="selectedSkinType.set($event); onSkinTypeChange()"
    class="skin-type-select"
  >
    <option value="">Todas as op√ß√µes</option>
    <option *ngFor="let tipo of skinTypes" [value]="tipo">{{ tipo }}</option>
  </select>
</div>

<!-- Mensagem de erro -->
<div *ngIf="errorMensagem" class="error-message">
  {{ errorMensagem }}
</div>

<!-- Mensagem de carregamento -->
<div *ngIf="ativosRaw().length === 0 && !errorMensagem" class="loading-message">
  Carregando ativos ou lista vazia...
</div>

<!-- Grid de ativos filtrados -->
<div class="ativos-grid">
  <div *ngFor="let ativo of ativosFiltrados(); trackBy: trackById" class="ativo-card">
    <h3>{{ ativo.nome }}</h3>
    <div class="card-content">
      <p><strong>Origem:</strong> {{ ativo.origem_geografica }}</p>
      <p><strong>Fun√ß√£o Principal:</strong> {{ ativo.funcao_principal }}</p>
      <p><strong>Indicado:</strong> {{ ativo.tipo_de_pele_indicada }}</p>
    </div>

    <button (click)="toggleFavorito(ativo)" class="favorite-btn" [class.is-fav]="isFavorito(ativo)">
      <span class="heart-icon">{{ isFavorito(ativo) ? '‚ù§Ô∏è' : 'ü§ç' }}</span>
      {{ isFavorito(ativo) ? 'Remover dos Favoritos' : 'Adicionar aos Favoritos' }}
    </button>
  </div>

  <!-- Nenhum resultado encontrado -->
  <div *ngIf="ativosRaw().length > 0 && ativosFiltrados().length === 0" class="no-results-message">
    Nenhum ativo encontrado com o termo "{{ searchTerm() }}" e tipo de pele "{{ selectedSkinType() }}".
  </div>
</div>
